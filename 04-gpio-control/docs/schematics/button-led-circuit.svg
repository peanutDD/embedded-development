<?xml version="1.0" encoding="UTF-8"?>
<svg width="700" height="500" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .wire { stroke: #000; stroke-width: 2; fill: none; }
      .component { stroke: #000; stroke-width: 2; fill: #fff; }
      .text { font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; }
      .label { font-family: Arial, sans-serif; font-size: 10px; text-anchor: middle; }
      .title { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; text-anchor: middle; }
      .mcu { fill: #e6f3ff; stroke: #0066cc; stroke-width: 2; }
      .led { fill: #ffcccc; stroke: #cc0000; stroke-width: 2; }
      .resistor { fill: #ffffcc; stroke: #cc6600; stroke-width: 2; }
      .button { fill: #ccffcc; stroke: #006600; stroke-width: 2; }
    </style>
  </defs>
  
  <!-- 标题 -->
  <text x="350" y="30" class="title">按钮控制LED电路</text>
  
  <!-- 微控制器 -->
  <rect x="50" y="100" width="120" height="250" class="mcu"/>
  <text x="110" y="120" class="text">STM32F4</text>
  <text x="110" y="135" class="text">微控制器</text>
  
  <!-- GPIO引脚 - LED控制 -->
  <circle cx="170" cy="160" r="3" fill="#000"/>
  <text x="200" y="165" class="label">PC13 (LED)</text>
  
  <!-- GPIO引脚 - 按钮输入 -->
  <circle cx="170" cy="200" r="3" fill="#000"/>
  <text x="200" y="205" class="label">PA0 (BTN)</text>
  
  <!-- VCC引脚 -->
  <circle cx="170" cy="240" r="3" fill="#000"/>
  <text x="190" y="245" class="label">3.3V</text>
  
  <!-- GND引脚 -->
  <circle cx="170" cy="300" r="3" fill="#000"/>
  <text x="190" y="305" class="label">GND</text>
  
  <!-- LED电路 -->
  <!-- 限流电阻 -->
  <rect x="280" y="150" width="60" height="20" class="resistor"/>
  <text x="310" y="165" class="text">330Ω</text>
  <text x="310" y="145" class="label">R1</text>
  
  <!-- LED -->
  <polygon points="380,150 400,160 380,170" class="led"/>
  <line x1="400" y1="150" x2="400" y2="170" stroke="#cc0000" stroke-width="2"/>
  <text x="390" y="145" class="label">D1</text>
  <text x="390" y="185" class="text">LED</text>
  
  <!-- LED电路连线 -->
  <line x1="170" y1="160" x2="280" y2="160" class="wire"/>
  <line x1="340" y1="160" x2="380" y2="160" class="wire"/>
  <line x1="400" y1="160" x2="430" y2="160" class="wire"/>
  <line x1="430" y1="160" x2="430" y2="300" class="wire"/>
  
  <!-- 按钮电路 -->
  <!-- 上拉电阻 -->
  <rect x="280" y="80" width="20" height="60" class="resistor"/>
  <text x="290" y="75" class="text">10kΩ</text>
  <text x="320" y="110" class="label">R2 (上拉)</text>
  
  <!-- 按钮 -->
  <rect x="380" y="190" width="40" height="20" class="button"/>
  <text x="400" y="205" class="text">SW1</text>
  <text x="400" y="225" class="label">按钮</text>
  
  <!-- 按钮电路连线 -->
  <line x1="170" y1="200" x2="290" y2="200" class="wire"/>
  <line x1="290" y1="140" x2="290" y2="200" class="wire"/>
  <line x1="290" y1="200" x2="380" y2="200" class="wire"/>
  <line x1="420" y1="200" x2="450" y2="200" class="wire"/>
  <line x1="450" y1="200" x2="450" y2="300" class="wire"/>
  
  <!-- VCC连线 -->
  <line x1="170" y1="240" x2="290" y2="240" class="wire"/>
  <line x1="290" y1="240" x2="290" y2="80" class="wire"/>
  
  <!-- GND连线 -->
  <line x1="170" y1="300" x2="450" y2="300" class="wire"/>
  
  <!-- 工作原理说明 -->
  <text x="110" y="380" class="text">工作原理：</text>
  <text x="110" y="400" class="label">1. 按钮未按下：PA0通过上拉电阻接3.3V (高电平)</text>
  <text x="110" y="415" class="label">2. 按钮按下：PA0直接接GND (低电平)</text>
  <text x="110" y="430" class="label">3. 程序检测PA0状态，控制PC13输出</text>
  <text x="110" y="445" class="label">4. PC13高电平时LED亮，低电平时LED灭</text>
  
  <!-- 电路参数 -->
  <text x="500" y="100" class="text">电路参数：</text>
  <text x="500" y="120" class="label">VCC = 3.3V</text>
  <text x="500" y="135" class="label">LED限流电阻 = 330Ω</text>
  <text x="500" y="150" class="label">按钮上拉电阻 = 10kΩ</text>
  <text x="500" y="165" class="label">按钮未按下：PA0 = 3.3V</text>
  <text x="500" y="180" class="label">按钮按下：PA0 = 0V</text>
  
  <!-- 注意事项 -->
  <text x="500" y="220" class="text">注意事项：</text>
  <text x="500" y="240" class="label">• 上拉电阻防止输入悬空</text>
  <text x="500" y="255" class="label">• 按钮需要软件去抖动</text>
  <text x="500" y="270" class="label">• GPIO配置为输入模式</text>
  <text x="500" y="285" class="label">• 可使用内部上拉电阻</text>
  
  <!-- 状态指示 -->
  <rect x="520" y="320" width="100" height="60" stroke="#000" stroke-width="1" fill="#f0f0f0"/>
  <text x="570" y="335" class="text">状态表</text>
  <text x="570" y="350" class="label">按钮松开 → LED灭</text>
  <text x="570" y="365" class="label">按钮按下 → LED亮</text>
</svg>